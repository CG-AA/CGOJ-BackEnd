\doxysection{register.\+hpp}
\hypertarget{register_8hpp_source}{}\label{register_8hpp_source}\index{src/CROW\_ROUTEs/register.hpp@{src/CROW\_ROUTEs/register.hpp}}
\mbox{\hyperlink{register_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <crow.h>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <crow/middlewares/cors.h>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <nlohmann/json.hpp>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{api_8hpp}{../API/api.hpp}}"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00018\ \textcolor{keyword}{namespace\ }\{\ \textcolor{comment}{//\ Anonymous\ namespace\ to\ limit\ scope\ to\ this\ file}}
\DoxyCodeLine{00029\ \textcolor{keyword}{class\ }IPrateLimit\ \{}
\DoxyCodeLine{00030\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00031\ \ \ \ \ std::array<std::string,\ 3>\ emails;}
\DoxyCodeLine{00032\ \ \ \ \ IPrateLimit(std::string\ email);}
\DoxyCodeLine{00033\ \};}
\DoxyCodeLine{00034\ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classRateLimit}{RateLimit}}\ \{}
\DoxyCodeLine{00043\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classRateLimit_aeb4c50f3ad18523c8c76f12a17fd543b}{check\_rate\_limit}}(std::string\ ip,\ std::string\ email);}
\DoxyCodeLine{00059\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00060\ \ \ \ \ std::recursive\_mutex\ mtx;\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordtype}{int}\ last\_cleanup\_day\ =\ std::chrono::duration\_cast<std::chrono::hours>(std::chrono::system\_clock::now().time\_since\_epoch()).count()\ /\ 24;\ }
\DoxyCodeLine{00062\ \ \ \ \ std::map<std::string,\ IPrateLimit>\ rateLimit;\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{void}\ cleanup();}
\DoxyCodeLine{00071\ \};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00085\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{register_8hpp_ac0f8312d3b5e9958ea002d76ee814223}{ROUTE\_Register}}(crow::App<crow::CORSHandler>\&\ \mbox{\hyperlink{main_8cpp_afce6e82e7f4ddd54d9bbf8894ccc85ab}{app}},\ nlohmann::json\&\ \mbox{\hyperlink{main_8cpp_a226e5c87ec0382336e0be64e07be3723}{settings}},\ std::string\ \mbox{\hyperlink{main_8cpp_a57430442c3d9a40c976af8e13ab34029}{IP}},\ std::unique\_ptr<APIs>\&\ \mbox{\hyperlink{main_8cpp_ab8701c10295234ac200a898c50dbbc76}{api}});}

\end{DoxyCode}
